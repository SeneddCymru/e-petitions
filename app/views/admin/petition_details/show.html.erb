<!-- Back to X list -->

<div class="grid-row">

  <div class="column-two-thirds extra-gutter">
    <h2 class="petition-action-heading">Edit petition</h2>

    <p class="tabs">
      <% if petition_locale == :"en-GB" %>
        English | <%= link_to "Welsh", admin_petition_details_path(locale: "cy-GB") %>
      <% else %>
        <%= link_to "English", admin_petition_details_path(locale: "en-GB") %> | Welsh
      <% end %>
    </p>

    <%= form_for @petition, url: admin_petition_details_path(@petition), method: :patch do |f| %>
      <%= hidden_field_tag :locale, petition_locale %>

      <%= form_row for: [f.object, :action] do %>
        <%= f.label :action, class: 'form-label' %>
        <%= error_messages_for_field @petition, :action %>
        <% I18n.with_locale petition_locale do %>
          <%= f.text_area :action, tabindex: increment, rows: 3, maxlength: 80, class: 'form-control' %>
        <% end %>
      <% end %>

      <%= form_row for: [f.object, :background] do %>
        <%= f.label :background, class: 'form-label' %>
        <%= error_messages_for_field @petition, :background %>
        <% I18n.with_locale petition_locale do %>
          <%= f.text_area :background, tabindex: increment, rows: 5, class: 'form-control' %>
        <% end %>
      <% end %>

      <%= form_row for: [f.object, :additional_details] do %>
        <%= f.label :additional_details, class: 'form-label' %>
        <%= error_messages_for_field @petition, :additional_details %>
        <% I18n.with_locale petition_locale do %>
          <%= f.text_area :additional_details, tabindex: increment, rows: 7, class: 'form-control' %>
        <% end %>
      <% end %>

      <%= form_row for: [@petition.creator, :name] do %>
        <%= f.fields_for :creator do |c| %>
          <%= c.label :name, "Creator", class: 'form-label' %>
          <%= error_messages_for_field @petition.creator, :name %>
          <%= c.text_field :name, tabindex: increment, class: 'form-control' %>
        <% end %>
      <% end %>

      <%= form_row for: [f.object, :committee_note] do %>
        <%= f.label :committee_note, class: 'form-label' %>
        <%= error_messages_for_field @petition, :committee_note %>
        <%= f.text_area :committee_note, tabindex: increment, rows: 7, class: 'form-control' %>
      <% end %>

      <%= form_row for: [f.object, :special_consideration] do %>
        <div class="multiple-choice">
          <%= f.check_box :special_consideration, tabindex: increment %>
          <%= f.label :special_consideration, 'Special consideration when dealing with this petition' %>
        </div>
        <%= error_messages_for_field @petition, :special_consideration %>
      <% end %>

      <%= f.submit 'Save', class: 'button' %>
      <%= link_to 'Cancel', admin_petition_path(@petition), class: 'button-secondary' %>
    <% end %>
  </div>

  <div class="petition-meta column-third">
    <%= render 'admin/petitions/petition_details' %>
  </div>

</div>

<%= render 'edit_lock' %>
